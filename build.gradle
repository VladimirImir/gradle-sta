/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.1.1/samples
 */

println "configuration phase"
println "gradle id: ${gradle.hashCode()}"
println "root: ${rootProject.hashCode()}, ${project.hashCode()}, ${gradle.rootProject.hashCode()}"

// task = new DefaultTask
// Вариант # 3 - Является предпочтительным.
def map = [description: "Hello task", group: "dev"]
/*task(map, "hello") {
    println "configuration phase. Task hello"
    println "task: $description, group: $group, actions: ${actions.size()}"
}*/
// Project -> [Task1, Task2]
// Task -> {Action1, Action2] -> action.execution (execution phase)
task hello(description: "Hello task", group: "dev", type: DefaultTask) {
    println "configuration phase. Task hello"

    doLast {
        println "execution phase, Action 1"
    }
    doFirst {
        println "execution phase, Action 2"
    }
    doLast {
        println "execution phase, Action 3"
    }
    println "task: $description, group: $group, actions: ${actions.size()}"
    println "path task: $path"

    //description = "Hello task"
    //group = "dev"
}

//tasks.findByName("hello").
// Вариант # 1
/*hello.description = "Hello task"
hello.group = "dev"*/

// Вариант # 2
// hello.configure Closure
/*hello {
    println "configuration phase. Task hello"
    description = "Hello task"
    group = "dev"
}*/

